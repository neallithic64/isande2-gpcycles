<div class="sb-nav-fixed">
	<div id="layoutSidenav">
		<div id="layoutSidenav_content">
			<main>
				<div class="container-fluid">
					<div style="display: flex; flex-direction: row; justify-content:space-between;">
						<div style="margin-bottom: 15px;">
							<h1 id="viewPONum" class="mt-4">{{purchaseorder.orderNum}}</h1>
						</div>
						<div style="margin-top:30px; display: flex; flex-direction: row;">
							<a class="nav-link" style="color: #d32327" href="/paysopo"> <button id="payPOButton" class="btn">Pay</button> </a>
							<ul class="navbar-nav ml-auto ml-md-0">
								<li class="nav-item dropdown">
									<a class="nav-link dropdown-toggle" style="color: #d32327" id="receivePOButton" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <button class="btn"> Receive </button> </a>
									<div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown">
										<a class="dropdown-item" href="/drsopo">Receive All</a>
										<div class="dropdown-divider"></div>
										<a class="dropdown-item" href="/drsopo">Partial Receive</a>
									</div>
								</li>
							</ul>
							<a class="nav-link" style="color: #d32327"> <button id="cancelSOPOButton" class="btn">Cancel</button> </a>
						</div>
					</div>
					<div id="cancelModal" class="modal">
						<div class="modal-content" style="width: 800px;">
							<span class="close"> &times; </span>
							<span style="font-size: 30px; font-weight: 600; margin-bottom: 10px;"> Cancel Reason </span>
							<form>
								<div class="form-group">
									<input style="width: 760px;" class="form-control" id="inputCancelRemarks" type="text" placeholder="Type here">
								</div>
								<div style="display: flex; justify-content: flex-end;">
								<button type="button" style="margin-right: 10px;" class="btn btn-primary">Submit</button>
								</div>
							</form>
						</div>
					</div>
					<div class="card mb-4">
						<div class="card-header" style="display: flex; flex-direction: row; justify-content: space-between;">
							<div style="margin-top: -10px;">
								<img id="logomain" src="/assets/img/Logo.png" >
							</div>
							<div style="display: flex; flex-direction: column; margin-top: 25px;">
								<span style="font-weight: 700; font-size:22px;"> GP Cycling Accessories Parts & Services </span>
								<span> Lot 21 blk10 Levitown Marawoy Lipa City </span>
								<span> Tel # (043) 774-2491 </span>
							</div>
							<div style="text-align:end; align-items:flex-end; display: flex; flex-direction: column; margin-top: 5px;">
								<span style="font-weight: 700; font-size:40px;"> Purchase Order </span>
								<span id="viewPONum" style="font-weight: 700; font-size:25px; margin-top: -10px;"> {{purchaseorder.orderNum}} </span>
								<span id="viewPOStatus" class="{{{statusStyle purchaseorder.status}}}"> {{purchaseorder.status}} </span>
							</div>
						</div>
						<div class="card-body">
							<div class="form-row">
								<div class="col-md-6">
									<div class="form-group" style="display: flex; flex-direction: row;">
										<span style="width:100px; font-size:16px; font-weight: 700;">Supplier</span>
										<span style="font-size:16px;" id="viewPOName"> {{purchaseorder.supplier.name}} </span>
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group" style="display: flex; flex-direction: row; justify-content: flex-end;">
										<span style="width:230px; font-size:16px; font-weight: 700;">Purchase Order Date </span>
										<span style="width:100px; font-size:16px; text-align: end;" id="viewPODate"> {{getFormatISODate purchaseorder.dateOrdered}} </span>
									</div>
								</div>
							</div>
							<div class="form-row">
								<div class="col-md-6">
									<div class="form-group" style="display: flex; flex-direction: row;">
										<span style="width:100px; font-size:16px; font-weight: 700;">Terms</span>
										<span style="font-size:16px;" id="viewPOTerms"> {{purchaseorder.paymentTerms}} </span>
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group" style="display: flex; flex-direction: row; justify-content: flex-end;">
										<span style="width:230px; font-size:16px; font-weight: 700;">Payment Due </span>
										<span style="width:100px; font-size:16px; text-align: end;" id="viewPOPayDue"> {{getFormatISODate purchaseorder.paymentDue}} </span>
									</div>
								</div>
							</div>
							<div class="form-group" style="display:flex; justify-content: flex-end;">
								<span style="width:230px; font-size:16px; font-weight: 700;">Expected Delivery </span>
								<span style="width:100px; font-size:16px; text-align: end;" id="viewPODelDate"> {{getFormatISODate purchaseorder.expectedDelivery}} </span>
							</div>

							<div class="table-responsive" style="margin-top:30px;">
								<table class="table table-bordered" id="viewPOItems" width="100%" cellspacing="0">
									<thead>
										<tr style="text-align: center;">
											<th style="width: 55px;">Item #</th>
											<th style="width: 40px; text-align: end;">Quantity</th>
											<th style="width: 100px;">Unit</th>
											<th style="width: 300px;">Product</th>
											<th style="width: 100px; text-align: end;">Unit Price (&#8369;)</th>
											<th style="width: 100px; text-align: end;">Discount (%) </th>
											<th style="width: 100px; text-align: end;">Net Price (&#8369;)</th>
										</tr>
									</thead>
									<tfoot>
										<tr style="text-align: center;">
											<th style="width: 55px;">Item #</th>
											<th style="width: 40px; text-align: end;">Quantity</th>
											<th style="width: 50px;">Unit</th>
											<th style="width: 300px;">Product</th>
											<th style="width: 100px; text-align: end;">Unit Price (&#8369;)</th>
											<th style="width: 100px; text-align: end;">Discount (%) </th>
											<th style="width: 100px; text-align: end;">Net Price (&#8369;)</th>
										</tr>
									</tfoot>
									<tbody>
										{{#each purchaseorder.items}}
										<tr>
											<td style="text-align: center;">
												<span id="viewPOItemNum"> {{this.product.itemCode}} </span>
											</td>
											<td style="text-align: end;">
												<span id="viewPOQty"> {{this.qty}} </span>
											</td>
											<td style="text-align: center;">
												<span id="viewS]POUnit"> {{this.product.unit}} </span>
											</td>
											<td style="text-align: center;">
												<span id="viewPOItem"> {{this.product.prodName}} </span>
											</td>
											<td style="text-align: end;">
												<span id="viewPOUnitPrice"> {{this.product.purchasePrice}} </span>
											</td>
											<td style="text-align: end;">
												<span id="viewPODisc">{{this.discount}}%</span>
											</td>
											<td style="text-align: end;">
												<span id="viewPONetPrice"> {{netPriceDisc this.product.purchasePrice this.qty this.discount}} </span>
											</td>
										</tr>
										{{/each}}
									</tbody>
								</table>
							</div>

							<div class="form-row" style="margin-top: 20px;">
								<div class="col-md-6">
									<div class="form-group" style="display: flex; flex-direction: row;">
										<span style="width:100px; font-size:16px; font-weight: 700;">Remarks</span>
										<span style="font-size:16px;" id="viewPORemarks"> {{purchaseorder.remarks}} </span>
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group" style="display: flex; flex-direction: row; justify-content: flex-end;">
										<span style="width:250px; font-size:16px; font-weight: 700;">SUBTOTAL </span>
										<span style="width: 80px; font-size:16px; text-align: end;" id="viewPOSub"> {{subtotalOrder purchaseorder 0}} </span>
									</div>
								</div>
							</div>
							<div class="form-row">
								<div class="col-md-6">
									<div class="form-group" style="display: flex; flex-direction: row;">
										<span style="width:100px; font-size:16px; font-weight: 700;">Conditions</span>
										<span style="font-size:16px;" id="viewPOCond"> {{purchaseorder.conditions}} </span>
									</div>
								</div>
								<div class="col-md-6">
									<div class="form-group" style="display: flex; flex-direction: row; justify-content: flex-end;">
										<span style="width:250px; font-size:16px; font-weight: 700;">Total Discount </span>
										<span style="width: 80px; font-size:16px; text-align: end;" id="viewPOTotalDisc"> {{discountOrder purchaseorder 0}} </span>
									</div>
								</div>
							</div>
							{{#if isOverdue}} <div class="form-group" style="display:flex; justify-content: flex-end;">
									<span style="width:250px; font-size:16px; font-weight: 700;">Penalty </span>
									<span style="width: 80px; font-size:16px; text-align: end;" id="viewPOPenalty"> {{purchaseorder.penalty}} </span>
									</div> {{/if}} <!-- if with penalty only -->
							<div class="form-group" style="display:flex; justify-content: flex-end;">
								<span style="width:250px; font-size:16px; font-weight: 700;">NET TOTAL </span>
								<span style="width: 80px; font-size:16px; text-align: end; font-weight: 700;" id="viewPONetTotal"> P {{netotalOrder purchaseorder 0}} </span>
							</div>
						</div>
					</div>
				</div>
			</main>
		</div>
	</div>
</div>
